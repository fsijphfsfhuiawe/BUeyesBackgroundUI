# è“æ¡¥æ¯èµ›å‰å†²åˆº
## æ³¨æ„äº‹é¡¹
ç¨‹åºå¤„ç†å®Œä¸€ä¸ªç”¨ä¾‹çš„æ•°æ®åï¼Œç«‹å³é€€å‡º(`return 0`)ï¼Œåƒä¸‡ä¸è¦å¾ªç¯ç­‰å¾…ä¸‹ä¸€ä¸ªç”¨ä¾‹çš„è¾“å…¥ã€‚

å¯¹äºç¼–ç¨‹é¢˜ç›®ï¼Œè¦æ±‚é€‰æ‰‹ç»™å‡ºçš„è§£ç­”å®Œå…¨ç¬¦åˆANSI C++æ ‡å‡†ã€‚

`main`å‡½æ•°ç»“å°¾éœ€è¦`return 0`;

1. ä¸€èˆ¬$O(n)$çš„ç®—æ³•èƒ½è§£å†³çš„æ•°æ®èŒƒå›´åœ¨$n\le 10^8$
2. ä¸€èˆ¬$O(n\log n)$çš„ç®—æ³•èƒ½è§£å†³çš„æ•°æ®èŒƒå›´åœ¨$n\le 10^6$
3. ä¸€èˆ¬$O(n\sqrt n)$çš„ç®—æ³•èƒ½è§£å†³çš„æ•°æ®èŒƒå›´åœ¨$n\le 10^5$
4. ä¸€èˆ¬$O(n^2)$çš„ç®—æ³•èƒ½è§£å†³çš„æ•°æ®èŒƒå›´åœ¨$n\le 5000$
5. ä¸€èˆ¬$O(n^3)$çš„ç®—æ³•èƒ½è§£å†³çš„æ•°æ®èŒƒå›´åœ¨$n\le 300$
6. ä¸€èˆ¬$O(2^n)$çš„ç®—æ³•èƒ½è§£å†³çš„æ•°æ®èŒƒå›´åœ¨$n\le 25$
7. ä¸€èˆ¬$O(n!)$çš„ç®—æ³•èƒ½è§£å†³çš„æ•°æ®èŒƒå›´åœ¨$n\le 11$

## æ·±åº¦ä¼˜å…ˆæœç´¢(dfs)

### ä¸­å›½è±¡æ£‹

```C++
#include <bits/stdc++.h>
using namespace std;

char s[10][10];
int dir[8][2] = {{2,1}, {1,2}, {-1,2}, {-2,1}, {-2, -1}, {-1, -2}, {1, -2}, {2, -1}};
bool f;
void dfs(int x, int y){
    vis[x][y] = true;
    if(f) return;
    if(s[x][y] == 'T') {
        f = true; return;
    }
    for(int i = 0; i < 8; i++){
        int tx = x + dir[i][0];
        int ty = y + dir[i][1];
        if(in(tx, ty) && s[tx][ty] != '#' && !vis[tx][ty]){
            dfs(tx, ty);
        }
    }
    vis[x][y] = false;
}
int main(){
    int x, y;
    for(int i = 0; i < 10; i++){
        scanf("%s", s[i]);
    }
    for(int i = 0; i < 10; i++{
        for(int j = 9; j < 9; j++){
            if(S[i][j] == 'S') x = i, y = j;
        }
    }
    dfs(x, y);
    printf(f ? "Yes" : "No");
    return 0;
}
```

### è¸é’

```C++
#include <bits/stdc++.h>
using namespace std;
char mp[105][105];
bool vis[105][105];
int n, m;

void dfs(int x, int y){
	if(x < 0 || x >= n || y < 0 || y >= m || mp[x][y] == '.'){
		return;
	}	
	vis[x][y] = true;
	dfs(x - 1, y);
	dfs(x + 1, y);
	dfs(x, y - 1);
	dfs(x, y + 1);
}

int main(){
	int cnt = 0;
	scanf("%d%d", &n, &m);
	for(int i = 0; i < n; i++) scanf("%s", mp[i]);
	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			if(!vis[i][j] && mp[i][j] == '#'){
				dfs(i, j);
				cnt++;
			}
		}
	}
	printf("%d\n", cnt);
} 
```

### æ‰¾å‡ºè¿·å®«çš„æ‰€æœ‰è·¯å¾„æ•°ç›®

```C++
#include <bits/stdc++.h>
using namespace std;
int n, m, cnt = 0;
bool vis[15][15]
char mp[15][15];

void dfs(int x, int y){
	if(x < 0 || x >= n || y < 0 || y >= m || vis[x][y] || mp[x][y] == '#'){
		return;
	}
	if(mp[x][y] == 'e') cnt++;
	vis[x][y] = true;
	dfs(x + 1, y);
	dfs(x - 1, y);
	dfs(x, y + 1);
	dfs(x, y - 1);
}
int main(){
	int x, y;
	scanf("%d%d", &n, &m);
	for(int i = 0; i < n; i++){
		scanf("%s", mp[i]);
	}
	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			if(mp[i][j] == 's') x = i, y = j;
		}
	}
	dfs(x, y);
	printf("%d", cnt);
} 
```

### æœ€å¤§è›‹ç³•æ•°

```C++
#include <bits/stdc++.h>
using namespace std;
int n, m, cnt, ans;
char mp[1005][1005];
bool vis[1005][1005];

void dfs(int x, int y){
	if(x < 0 || x >= n || y < 0 || y >= m || mp[x][y] == '.') return;
	vis[x][y] = true;
	cnt++;
	dfs(x + 1, y);
	dfs(x - 1, y);
	dfs(x, y + 1);
	dfs(x, y - 1);
}

int main(){
	scanf("%d%d", &n, &m);
	for(int i = 0; i < n; i++) scanf("%s", mp[i]);
	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			if(!vis[i][j] && mp[i][j] == '#'){
				cnt = 0;
				dfs(i, j);
				ans = max(ans, cnt);
			}
		}
	} 
	dfs(x, y);
	printf("%d", res);
} 
```

### ç›´ç³»åä»£

```C++
#include <bits/stdc++.h>
using namespace std;
vector<int> son[100005];
int ans[100005];
bool f[100005];

int dfs(int u){
	int res = 0;
	for(int i = 0; i < son[u].size(); i++){
		res += dfs(son[u][i]);
	}
	ans[u] = res;
	return res + 1;
}
int main(){
	int n, x, y, root;
	scanf("%d", &n);
	for(int i = 1; i <= n; i++){
		scanf("%d%d", &x, &y);
		son[x].push_back(y);
		f[y] = true;
	}
	for(int i = 1; i <= n; i++){
		if(!f[i]) root = i, break;
	}
	dfs(root);
	for(int i = 1; i <= n; i++){
		printf("%d\n", ans[i]);
	}
	return 0;
} 
```

### ç‹å­æ•‘å…¬ä¸»

```C++
#include <bits/stdc++.h>
using namespace std;
int n, m;
char mp[105][105];
bool vis[105][105][2];
// çœ‹ç‹å­å¯ä»¥åˆ°è¾¾çš„ç‚¹å’Œå…¬ä¸»å¯ä»¥åˆ°è¾¾çš„ç‚¹æ˜¯å¦æœ‰é‡å¤çš„
// å¦‚æœæœ‰é‡å¤ï¼Œè¯´æ˜å¯ä»¥æ•‘å‡º
 
void dfs(int x, int y, int d){ // 0è¡¨ç¤ºç‹å­ 
	if(x < 0 || x >= n || y < 0 || y >= m || vis[x][y][d] || mp[x][y] == '#'){
		return;
	}
	vis[x][y][d] = true;
	dfs(x - (2 - d), y);
	dfs(x + (2 - d), y);
	dfs(x, y - (2 - d));
	dfs(x, y + (2 - d));
}
int main(){
	int x1, y1, x2, y2;
	scanf("%d%d", &n, &m);
	for(int i = 0; i < n; i++){
		scanf("%s", mp[i]);
	}
	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			if(mp[i][j] == 'w') x1 = i, y1 = j;
			if(mp[i][j] == 'g') x2 = i, y2 = j;
		}
	}
	
	dfs(x1, y1, 0);
	dfs(x2, y2, 1);
	
	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			if(vis[i][j][0] == vis[i][j][1]) {
				printf("yes");
				return 0;
			}
		}
	}
	printf("no");
	return 0;
} 
```

### æ—¶é—´åˆ†é…

```C++
#include <bits/stdc++.h>
using namespace std;
int task[15][15], n, ans = 200000;
bool used[15];

void dfs(int x, int t){
	if(x == n){
		if(t < ans) ans = t;
		return;
	}
	for(int i = 0; i < n; i++){
		if(!used[i]){
			used[i] = true;
			dfs(x + 1, t + task[x][i]);
			used[i] = false;
		}
	}
}

int main(){
	scanf("%d", &n);
	for(int i = 0; i < n; i++){
		for(int j = 0; j < n; j++){
			scanf("%d", &task[i][j]);
		}
	}
	dfs(0, 0);
	printf("%d\n", ans);
	return 0;
} 
```

## æŠ½è±¡æ·±åº¦ä¼˜å…ˆæœç´¢

### ä»nä¸ªæ•°ä¸­é€‰kä¸ªæ•°ä½¿å¾—å’Œä¸ºsumï¼Œæ±‚æ‰€æœ‰é€‰æ³•çš„æ•°ç›®

```C++
#include <bits/stdc++.h>
using namespace std;
int n, k, sum, ans;
int a[40];
void dfs(int i, int cnt, int s){
	if(i == n){
		if(cnt == k && s == sum) ans++;
		return;
	}
	dfs(i + 1, cnt, s);	// ä¸é€‰ 
	dfs(i + 1, cnt + 1, s + a[i]); //é€‰ 
}

int main(){
	scanf("%d%d%d", &n, &k, &sum);
	for(int i = 0; i < n; i++){
		scanf("%d", &a[i]);
	}
	dfs(0, 0, 0);
	printf("%d", ans);
	return 0;
}
```

```C++
#include <iostream>
using namespace std;
int n, k, sum, ans;
int a[40];
bool selected[40];
void dfs(int s, int cnt){
	if(s == sum && cnt == k) ans++;
	for(int i = 0; i < n; i++){
		if(!selected[i]){
			selected[i] = true;
			dfs(s + a[i], cnt + 1);
			selected[i] = false;
		}
	}
}

int main(){
	// è¾“å…¥æ•°æ®
	scanf("%d%d%d", &n, &k, &sum);
	for(int i = 0; i < n; i++) scanf("%d", &a[i]);
	ans = 0;
	dfs(0, 0);
	printf("%d", ans); 
	return 0;
} 
```

### ç­‰è¾¹ä¸‰è§’å½¢

```C++
#include <bits/stdc++.h>
using namespace std;
int p[15];
int n, sum = 0; 
bool f, vis[15];
void dfs(int cnt, int s, int st){
	if(f) return;
	if(cnt == 3) f = true; return;
	if(s == sum / 3) dfs(cnt + 1, 0, 0); return;
	for(int i = st; i < n; i++){
		if(!vis[i]){
			vis[i] = true;
			dfs(cnt, s + p[i], i + 1);
			vis[i] = false;
		}
	}
}

int main(){
	scanf("%d", &n);
	for(int i = 0; i < n; i++) {
		scanf("%d", &p[i]);
		sum += p[i];
	}
	if(sum % 3 != 0){
		printf("no\n");
	}else{
		dfs(0, 0, 0);
		if(f) printf("yes\n");
		else printf("no\n");
	}
	
	return 0;
}
```

### 8çš‡åé—®é¢˜

```C++
#include <bits/stdc++.h>
using namespace std;
int ans = 0;
bool col[10], x1[20], x2[20];
bool check(int r, int i){
	return !col[i] && !x1[r + i] && !x2[r + i - 8];
}
void dfs(int r){
	if(r == 8){
		ans++;
		return;
	}
	for(int i = 0; i , 8++){
		if(check(r, i)){
			col[i] = x1[r + i] = x2[r - i + 8] = true;
			dfs(r + 1);
			col[i] = x1[r + i] = x2[r - i + 8] = false;
		}
	}
}

int main(){
	dfs(0);
	printf("%d", ans);
	return 0;
}
```

### nå…ƒé«˜æ¬¡æ–¹ç¨‹ç»„

```C++
#include <bits/stdc++.h>
using namespace std;
int k[5], p[5];
int n, M, ans;
void dfs(int x, int s){
	if(x == n){
		if(s == 0) ans++;
		return;
	}
	for(int i = 1; i <= M; i++){
		dfs(x + 1, s + k[x] * pow(x, p[x]));
	}
}
int main(){
	scanf("%d%d", &n, &M);
	for(int i = 0; i < n; i++) scanf("%d%d", &k[i], &p[i]);
	dfs(0, 0);
	printf("%d", ans);
	return 0;
}
```

### æ•°ç‹¬

```C++
#include <bits/stdc++.h>
using namespace std;
bool f;
char s[10][10];
bool vx[10][10], vy[10][10], vv[10][10];
void dfs(int x, int y){
	if(f) return;
	if(x == 9){
		f = true;
		for(int i == 0; i < 9; i++){
			for(int j = 0; j < 9; j++){
				if(j != 8) printf("%c " s[i][j]);
				else printf("%c\n", s[i][j]);
			}
		}
		return;
	}
	if(y == 9){
		dfs(x + 1ï¼Œ 0)ï¼› return; 
	}
	if(s[x][y] != '*'){
		dfs(x, y + 1);
	}
	for(int i = 1; i < 9; i++){
		if(!vs[x][i] && !vy[y][i] && !vv[x / 3 * 3 + y / 3][i]){
			s[x][y] = '0' + i;
			vx[x][i] = vy[y][i] = vv[x / 3 * 3+ y / 3][i] = true;
			dfs(x, y + 1);
			vx[x][i] = vy[y][i] = vv[x / 3 * 3 + y / 3][i] = false;
			s[x][y] = '*';
		}
	}
}
int main(){
	for(int i = 0; i < 9; i++){
		scanf("%s", s[i]);
	}
	for(int i = 0; i < 9; i++){
		for(int j = 0; j < 9; j++){
			if(s[i][j] != '*'){
				vx[i][s[i][j] - '0'] = false;
				vy[j][s[i][j] - '0'] = false;
				vv[i / 3  * 3+ j / 3][s[i][j] - '0'] = true;
			}
		}
	}
	dfs(0, 0);
	return 0;
}
```

### 2nçš‡åé—®é¢˜

```C++
#include <bits/stdc++.h>
using namespace std;
char s[1005][1005];
bool vx[1005], vy[1005];
int n, m, cnt; 
void dfs(int x, int y){
	s[x][y] = '0';
	if(!vx[x]){
		vx[x] = true;
		for(int i = 0; i < m; i++){
			if(mp[x][i] == '1') dfs(x, i); 
		}
	}
	if(!vy[y]){
		vy[y] = true;
		for(int i = 0; i < n; i++){
			if(mp[i][y] == '1') dfs(i, y);
		}
	}
}
int main(){
	scanf("%d%d", &n, &m);
	for(int i = 0; i < n; i++){
		scanf("%s", s[i]);
	}
	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			if(s[i][j] == '1') {
				cnt++;
				dfs(i, j);
			}
		}
	}
	return 0;
}
```

## æ·±åº¦ä¼˜å…ˆæœç´¢çš„å‰ªæ

### å¯è¡Œæ€§å‰ªæ

```C++
#include <bits/stdc++.h>
using namespace std;
int n, k, sum, ans;
int a[40];
void dfs(int i, int cnt, int s){
	if(cnt > k) return;
	if(s > sum) return;
	if(i == n){
		if(cnt == k && s == sum) ans++;
		return;
	}
	dfs(i + 1, cnt, s);	// ä¸é€‰ 
	dfs(i + 1, cnt + 1, s + a[i]); //é€‰ 
}

int main(){
	scanf("%d%d%d", &n, &k, &sum);
	for(int i = 0; i < n; i++){
		scanf("%d", &a[i]);
	}
	dfs(0, 0, 0);
	printf("%d", ans);
	return 0;
}
```

### æœ€ä¼˜æ€§å‰ªæ

åœ¨æœç´¢æ˜¯å¦æœ‰å¯è¡Œè§£æ—¶ï¼Œä¸€æ—¦æ‰¾åˆ°ä¸€ç»„å¯è¡Œè§£ï¼Œåé¢æ‰€æœ‰çš„æœç´¢éƒ½ä¸å¿…å†è¿›è¡Œã€‚ä½¿ç”¨boolå˜é‡æ¥å®ç°ã€‚

```C++
#include <bits/stdc++.h>
using namespace std;
int n, m, ans = 100000;
string maze[110];
bool vis[110][100];
int dir[4][2] = {{-1, 0}, {0, -1}, {1, 0}, {0, 1}}; // ä¸€èˆ¬æŒ‰ç…§é€†æ—¶é’ˆ 
bool in(int x, int y){
	return 0 <= x && x < n && 0 <= y && y < m;
} 
void dfs(int x, int y, int step){
	if(step >= ans) return;
	if(maze[x][y] == 'T'){
		ans = step;
		return;
	}
	vis[x][y] = 1;
	for(int i = 0; i < 4; i++){
		int tx = x + dir[i][0];
		int ty = y + dir[i][1];
		if(in(tx, ty) && maze[tx][ty] != '*' & !vis[tx][ty]){
			dfs(tx, ty, step + 1);
		}
	}
	vis[x][y] = 0;
}
int main(){
	int x, y;
	scanf("%d%d", &n, &m);
	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			if(maze[i][j] == 'S'){
				x = i, y = j;
			}
		}
	}
	dfs(x, y, 0);
	printf("%d", ans);
	return 0;
} 
```

### é‡å¤æ€§å‰ªæ

å¯¹äºä¸€äº›ç‰¹å®šçš„æœç´¢æ–¹å¼ï¼Œä¸€ä¸ªæ–¹æ¡ˆå¯èƒ½ä¼šè¢«æœç´¢å¾ˆå¤šæ¬¡ï¼Œè¿™æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚
æˆ‘ä»¬è§„å®šé€‰å‡ºæ¥çš„æ•°çš„ä½ç½®æ˜¯é€’å¢çš„ï¼Œåœ¨æœç´¢çš„æ—¶å€™ï¼Œç”¨ä¸€ä¸ªå‚æ•°æ¥è®°å½•ä¸Šä¸€æ¬¡é€‰å–çš„æ•°çš„ä½ç½®ï¼Œé‚£ä¹ˆæ­¤æ¬¡é€‰æ‹©æˆ‘ä»¬ä»è¿™ä¸ªæ•°ä¹‹åå¼€å§‹é€‰å–ï¼Œé‚£ä¹ˆæœ€åé€‰å‡ºæ¥çš„æ–¹æ¡ˆå°±ä¸ä¼šé‡å¤ã€‚

```C++
#include <bits/stdc++.h>
using namespace std;
int n, k, sum, ans;
int a[40];
bool vis[40];
void dfs(int cnt, int s, int pos){
	if(cnt > k || s > sum) return;
	if(i == n){
		if(cnt == k && s == sum) ans++;
		return;
	}
	for(int i = pos; i < n; i++){
		if(!vis[i]){
			vis[i] = 1;
			dfs(cnt + 1, s + a[i], i + 1);
			vis[i] = 0;
		}
	}
}

int main(){
	scanf("%d%d%d", &n, &k, &sum);
	for(int i = 0; i < n; i++){
		scanf("%d", &a[i]);
	}
	dfs(0, 0, 0);
	printf("%d", ans);
	return 0;
}
```

### å¥‡å¶æ€§å‰ªæ

[](å›¾ç‰‡/å¥‡å¶æ€§å‰ªæ.png)

```C++
#include<bits/stdc++.h>
using namespace std;
const int N = 20;
int n, m, T;
char mat[N][N];
bool vis[N][N];
int dx[4] = {0, 0, -1, 1};
int dy[4] = {1, -1, 0, 0};
bool ok;

void dfs(int x, int y, int t){
	if(ok) return;
	if(t == T){
		if(mat[x][y] == 'D') ok = true;
		return;
	}
	vis[x][y] = true;
	for(int i = 0; i < 4; i++){
		int tx = x + dx[i];
		int ty = y + dy[i];
		if(tx < 0 || tx >= n || ty < 0 || ty >= m || mat[tx][ty] == 'X' || vis[tx][ty]){
			dfs(tx, ty, t + 1);
		}
	}
	vis[x][y] = false;
}
int main(){
	scanf("%d%d%d", &n, &m, &T);
	for(int i = 0; i < n; i++) scanf("%s", mat[i]);
	int sx, sy, ex, ey;
	for(int i = 0; i < n; i++){
		for(int j = 0; j < m; j++){
			if(mat[i][j] == 'S') sx = i, sy = j;
			if(mat[i][j] == 'D') ex = i, ey = j;
		}
	}
	if((sx + sy + ex + ey + T) % 2 != 0) printf("no\n"); return 0; // å¥‡å¶æ€§å‰ªæ 
	
	dfs(sx, sy, 0);
	if(ok) printf("yes\n");
	else printf("no\n");
	return 0;
}
```

### æ‰¾æ•°å­—

```C++
#include<bits/stdc++.h>
using namespace std;
int n;
bool ok;
void dfs(long long x, int cnt){
	if(cnt >= 19) return;
	if(ok) return;
	if(x % n == 0) ok = true; printf("%lld", x); return;
	dfs(x * 10, cnt + 1);
	dfs(x * 10 + 1, cnt + 1);
}
int main(){
	scanf("%d", &n);
	dfs(1, 0);
	return 0;
} 
```

### å…¨æ’åˆ—

```C++
#include <bits/stdc++.h>
using namespace std;
int n;
bool vis[20];
void dfs(int cnt, int num){
	if(cnt == n){
		printf("%d", num);
		return;
	}
	for(int i = 1; i <= n; i++){
		if(!vis[i]){
			vis[i] = true;
			dfs(cnt + 1, num * 10 + i);
			vis[i] = false;
		}
	}
}
int main(){
	scanf("%d", &n);
	int ans = 1;
	for(int i = 1; i <= n; i++) ans *= i;
	printf("%d", ans);
	dfs(0, 0);
	return 0;
}
```

### æ—…æ¸¸è®¡åˆ’

```C++
#include <bits/stdc++.h>
using namespace std;
int G[20][20];
bool vis[20];
int ans = 10000000000;
int n;
void dfs(int u, int cnt, int sum){
	if(sum >= ans) return;
	if(cnt == n) {
		cnt = min(ans, sum + G[u][1]);
		return;
	}
	vis[u] = 1;
	for(int i = 1; i <= n; i++){
		if(!vis[i]){
			dfs(i, cnt + 1, sum + G[u][i]);
		}
	}
	vis[u] = 0;
}
int main(){
	scanf("%d", &n);
	for(int i = 1; i <= n; i++){
		for(int j = 1; j <= n; j++){
			scanf("%d", &G[i][j]);
		}
	}
	printf("%d", ans);
	return 0;
} 
```

## å¹¿åº¦ä¼˜å…ˆæœç´¢

#### bfsçš„è¿‡ç¨‹

1. åˆå§‹æ—¶æŠŠèµ·å§‹ç‚¹æ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œå¹¶æ ‡è®°èµ·ç‚¹è®¿é—®ã€‚
2. å¦‚æœé˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œå–é˜Ÿé¦–å…ƒç´ xï¼Œæ ‡è®°è®¿é—®.
3. å°†xçš„æ‰€æœ‰æœªè®¿é—®ç›¸é‚»ç‚¹æ”¾å…¥é˜Ÿåˆ—ä¸­
4. é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºã€‚

#### ä¸€ç»´åæ ‡ç§»åŠ¨

#### å¯†ç 

#include<bits/stdc++.h>
using namespace std;
struct node{
	int num[4], step;
}first, last;
int vis[11][11][11][11];
void bfs(){
	int i;
	node a, next;
	a = first;
	a.step = 0;
	q.push(a);
	vis[a.num[0]][a.num[1]][a.num[2]][a.num[3]] = 1;
	while(!q.empty()){
		a = q.front();
		q.pop();
		// bfs
		if(a.num[0] == last.num[0] && a.num[1] == last.num[1] && a.num[2] == last.num[2] && a.num[3] == last.num[3]){
			printf("%d\n", a.step);
		}
		for(i = 0; i < 4; i++){
			next = a;
			next.num[i]++;
			if(next.num[i] == 10){
				next.num[i] = 1;
			}
			if(!vis[next.num[0]][next.num[1]][next.num[2]][next.num[3]]){
				vis[next.num[0]][next.num[1]][next.num[2]][next.num[3]] = 1;
				next.step++;
				q.push(next);
			}
		}
		for(i = 0; i < 4; i++){
			next = a;
			next.num[i]--;
			if(next.num[i] == 0){
				next.num[i] = 9;
			}
			if(!vis[next.num[0]][next.num[1]][next.num[2]][next.num[3]]){
				vis[next.num[0]][next.num[1]][next.num[2]][next.num[3]] = 1;
				next.step++;
				q.push(next);
			}
		}
		for(i = 0; i < 3; i++){
			next = a;
			next.num[i] = a.num[i + 1];
			next.num[i + 1] = a.num[i];
			if(!vis[next.num[0]][next.num[1]][next.num[2]][next.num[3]]){
				vis[next.num[0]][next.num[1]][next.num[2]][next.num[3]] = 1; // å…ˆæ ‡è®°åæ”¾å…¥ 
				next.step++;
				q.push(next);
			}
		}
	}
}
int main(){
	int i, j, t;
	char s1[10], s2[10];
	scanf("%s%s", s1, s2);
	for(i = 0; i < 4; i++){
		first.num[i] = s1[i] - '0';
		last.num[i] = s2[i] - '0';
	}
	bfs();
	return 0;
} 

#include <bits/stdc++.h>
using namespace std;
queue<pair<int, int>> q;
bool vis[5005];
int main(){
	int n, A, B, now, step;
	scanf("%d%d%d", &n, &A, &B);
	q.push(make_pair(A, 0));
	vis[A] = true;
	while(!q.empty()){
		now = q.front().first;
		step = q.front().second;
		q.pop();
		if(now == B){
			printf("%d\n", step);
			break;
		}
		if(now + 1 <= n && !vis[now + 1]){
			q.push(make_pair(now + 1, step + 1));
			vis[now + 1] = true;
		}
		if(now - 1 >= 0 && !vis[now - 1]){
			q.push(make_pair(now - 1, step + 1));
			vis[now - 1] = true;
		}
		if(now * 2 <= n && !vis[now * 2]){
			q.push(make_pair(now * 2, step + 1));
			vis[now * 2] = true;
		}
	}
	return 0;
} 

## å›¾ä¸æ ‘çš„åŸºæœ¬ç®—æ³•

#### å­˜å‚¨æ–¹å¼

1. é‚»æ¥çŸ©é˜µ
```C++
const int maxn = 1000; // é¡¶ç‚¹æœ€å¤§æ•°
int G[maxn][maxn];
memset(G, 0, sizeof G);
G[u][v] = 1; 	// æ’å…¥ä¸€æ¡(u, v)æœ‰å‘è¾¹
G[u][v] = G[v][u] = 1; 	// æ’å…¥ä¸€æ¡(u,v)æ— å‘è¾¹
```
2. é‚»æ¥è¡¨
```C++
const int maxn = 1000; // é¡¶ç‚¹æœ€å¤§æ•°
vector<int> G[maxn];	// é‚»æ¥è¡¨ï¼Œå…¶ä¸­G[i]å­˜å‚¨ièƒ½å¤Ÿè¾¾åˆ°çš„ç‚¹
```
3. é“¾å¼å‰å‘æ˜Ÿ
```C++
#include <bits/stdc++.h>
using namespace std;
const int M = 110;	// Mä¸ºè¾¹çš„æ•°ç›®
int e[M], ne[M], h[M], W[M], idx; // è‹¥ä¸å­˜å‚¨æƒå€¼å¯ä»¥ä¸éœ€è¦w
int n, m;

void add(int a, int b, int w){	// æ¨¡æ¿ 
	e[idx] = b;  // idxä¸ºè¾¹çš„ç¼–å·ï¼Œidxè¾¹çš„ç»ˆç‚¹æ˜¯e[idx] ;
	W[idx] = w;		// idxè¾¹çš„æƒå€¼æ˜¯w[idx] 
	ne[idx] = h[a]; 	// idxè¾¹åŒèµ·ç‚¹çš„ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯ne[idx] 
	h[a] = idx++; 	// aé¡¶ç‚¹çš„ç¬¬ä¸€æ¡è¾¹çš„ç¼–å·æ˜¯h[a]
} 

int main(){
	int a, b, c;
	scanf("%d%d", &n, &m);
	memset(h, -1, sizeof h);	// hè¦åˆå§‹åŒ–ä¸º-1
	for(int i = 0; i < m; i++){
		scanf("%d%d%d", &a, &b, &c);
		add(a, b, c);
	} 
	// é“¾å¼å‰å‘æ˜Ÿçš„éå†
	for(int i = 1; i <= n; i++){
		for(int k = h[i]; ~k; k = ne[k]){
			cout << i << " " << e[k] << " "<< w[k] << endl;
		}
	} 
	return 0;
}
```

## æœ€çŸ­è·¯å¾„ç®—æ³•

### å•æºæœ€çŸ­è·¯é—®é¢˜
åœ¨å¸¦æƒå›¾G=(V,E)ä¸­ï¼Œæ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæƒå€¼$w_i$ï¼Œå³è¾¹çš„é•¿åº¦ã€‚è·¯å¾„çš„é•¿åº¦ä¸ºè·¯å¾„ä¸Šæ‰€æœ‰è¾¹æƒä¹‹å’Œã€‚å•æºæœ€çŸ­è·¯é—®é¢˜æ˜¯æŒ‡ï¼šæ±‚æºç‚¹såˆ°å…¶ä½™å„é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚

1. Dijkstraæ˜¯è§£å†³æ— è´Ÿè¾¹æƒçš„å›¾çš„å•æºæœ€çŸ­è·¯é—®é¢˜ï¼Œç»å¸¸ä½¿ç”¨é‚»æ¥è¡¨å­˜å‚¨ã€‚ä¸ä¼˜åŒ–çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(V^2+E)$
```C++
#include <bits/stdc++.h>
using namespace std;
const int N = 1101;
const int M = 10001;
int e[2 * M], ne[2 * M], h[2 * M], W[2 * M];
int dis[N], vis[N]; 	
// disæ•°ç»„è¡¨ç¤ºä»æºç‚¹åˆ°içš„æœ€çŸ­è·¯çš„é•¿åº¦
// visè¡¨ç¤º iç‚¹æ˜¯å¦è¢«æ ‡è®°ã€‚ 
int n, m, idx;

void insert_edge(int u, int v, int w){
	e[idx] = v;
	W[idx] = w;
	ne[idx] = h[u];
	h[u] = idx++;
}

void insert(int u, int v, int w){
	insert_edge(u, v, w);
	insert_edge(v, u, w);
}

void dijkstra(int u){
	memset(vis, false, sizeof vis);
	memset(dis, 0x3f, sizeof dis);
	dis[u] = 0;
	for(int i = 0; i < n; i++){
		int mind = 1000000000, minj = -1;
		for(int j = 1; j <= n; j++){ // é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ 
			if(!vis[j] && dis[j] < mind){
				minj = j;
				mind = dis[j];
			}
		}
		if(minj == -1){
			return;
		}
		vis[minj] = true;
		for(int j = h[minj]; ~j; j = ne[j]){ // ~j ç­‰ä»·äºjä¸ç­‰äºè´Ÿ1 
			int v = e[j], w = W[j];
			if(!vis[v] && dis[v] > dis[minj] + w){
				dis[v] = dis[minj] + w;
			}
		}
	} 
}

int main(){
	memset(h, -1, sizeof h);
	int u, v, w;
	scanf("%d%d", &n, &m);
	while(m--){
		scanf("%d%d%d", &u, &v, &w);
		insert(u, v, w);
	}
	dijkstra(1);
	printf("%d", dis[n]);
	return 0;
}
```

2. SPFA(Shortest Path Faster Algorithm)ç®—æ³•æ˜¯å•æºæœ€çŸ­è·¯å¾„çš„ä¸€ç§ç®—æ³•ï¼Œé€šå¸¸è¢«è®¤ä¸ºæ˜¯Bellman-fordç®—æ³•çš„é˜Ÿåˆ—ä¼˜åŒ–ï¼Œåœ¨ä»£ç å½¢å¼ä¸Šæ¥è¿‘äºå®½åº¦ä¼˜å…ˆæœç´¢BFSï¼Œæ˜¯ä¸€ä¸ªåœ¨å®è·µä¸­éå¸¸é«˜æ•ˆçš„å•æºæœ€çŸ­è·¯ç®—æ³•ã€‚å¯ä»¥è¿ç”¨äºæœ‰è´Ÿæƒå›¾ï¼Œä½†ä¸èƒ½æœ‰è´Ÿç¯ã€‚å¤æ‚åº¦ä¸º$O(|V||E|).spfaç®—æ³•å¯ä»¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿç¯
	2.1 åˆå§‹é˜Ÿåˆ—ä¸­ä»…åŒ…å«æºç‚¹ï¼Œä¸”æºç‚¹sçš„$d_s=0$
	2.2 å–å‡ºé˜Ÿåˆ—å¤´èŠ‚ç‚¹uï¼Œæ‰«æä»é¡¶ç‚¹uå‡ºå‘çš„æ¯æ¡è¾¹ï¼Œè®¾æ¯æ¡è¾¹çš„å¦ä¸€ç«¯ä¸ºvï¼Œè¾¹<u,v>æƒå€¼ä¸ºw,è‹¥$d_u+w<d_v$ï¼Œåˆ™
		> å°†$d_v$ä¿®æ”¹ä¸º$d_u+w$
		> è‹¥vä¸åœ¨é˜Ÿåˆ—ä¸­ï¼Œåˆ™
	2.3 SPFAåˆ¤æ–­è´Ÿç¯åªèƒ½ç”¨åœ¨æœ‰å‘å›¾ä¸Šï¼Œå¦‚æœä¸€ä¸ªé¡¶ç‚¹çš„å…¥é˜Ÿæ¬¡æ•°å¤§äºnï¼Œåˆ™å­˜åœ¨è´Ÿç¯ã€‚
```C++
#include <bits/stdc++.h>
using namespace std;
const int M = 1e4 + 9;
const int N = 1e3 + 9;
const int inf = 0x3f3f3f3f;
int e[M << 1], ne[M << 1], h[M << 1], W[M << 1];
int dis[N], vis[N], in[N]; // inæ•°ç»„è¡¨ç¤ºæ¯ä¸ªæ•°çš„å…¥é˜Ÿæ¬¡æ•°
int n, m, idx;

void insert_edge(int u, int v, int w){
	e[idx] = v;
	W[idx] = w;
	ne[idx] = h[u];
	h[u] = idx++;
}

void insert(int u, int v, int w){
	insert_edge(u, v, w);
	insert_edge(v, u, w);
}

void spfa(int u){
	memset(vis, false, sizeof vis);
	vis[u] = true;
	memset(dis, 0x3f, sizeof dis);
	dis[u] = 0;
	queue<int> q;
	q.push(u);
	while(!q.empty()){
		u = q.front(); q.pop();
		vis[u] = false;
		for(int j = h[u]; ~j; j = ne[j]){
			int v = e[j], w = W[j];
			if(dis[v] > dis[u] + w){
				dis[v] = dis[u] + w; 
				if(!vis[v]){
					q.push(v);
					vis[v] = true;
				}
			}
		}
	}
}

bool spfa(int u){	// åˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿç¯ 
	memset(vis, false, sizeof vis);
	vis[u] = true;
	memset(dis, 0x3f, sizeof dis);
	dis[u] = 0;
	in[u] = 1
	queue<int> q;
	q.push(u);
	while(!q.empty()){
		u = q.front(); q.pop();
		vis[u] = false;
		for(int j = h[u]; ~j; j = ne[j]){
			int v = e[j], w = W[j];
			if(dis[v] > dis[u] + w){ // æ¾å¼›æ“ä½œ 
				dis[v] = dis[u] + w; 
				if(!vis[v]){
					q.push(v);
					vis[v] = true;
					++in[v];
					if(in[v] > n) return true;
				}
			}
		}
	}
	return false;
}

int main(){
	memset(h, -1, sizeof h);
	int u, v, w;
	scanf("%d%d", &n, &m);
	while(m--){
		scanf("%d%d%d", &u, &v, &w);
		insert(u, v, w);
	}
	spfa(1);
	printf("%d", dis[n]);
	return 0;
}
```

## ä¸å¸¦æƒå›¾

### æ‹“æ‰‘æ’åº
å¯¹ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾DAGè¿›è¡Œæ‹“æ‰‘æ’åºï¼š
1. é€‰æ‹©ä¸€ä¸ªå…¥åº¦ä¸º0çš„é¡¶ç‚¹å¹¶å°†å®ƒè¾“å‡º
2. åˆ é™¤å›¾ä¸­ä»é¡¶ç‚¹è¿å‡ºçš„æ‰€æœ‰è¾¹
3. é‡å¤ä¸Šé¢æ­¥éª¤ï¼Œç›´åˆ°ä¸å­˜åœ¨å…¥åº¦ä¸º0çš„é¡¶ç‚¹ä¸ºæ­¢
æ³¨æ„ï¼šå¾ªç¯ç»“æŸï¼Œè‹¥è¾“å‡ºçš„é¡¶ç‚¹æ•°å°äºå›¾ä¸­çš„é¡¶ç‚¹æ•°ï¼Œåˆ™è¡¨ç¤ºå›¾ä¸­å­˜åœ¨å›è·¯ã€‚
```C++
#include <bits/stdc++.h>
using namespace std;
const int MAX_M = 10000;
const int MAX_N = 200;
struct edge{
	int v, next;
	int len;
}E[MAX_M];
int h[MAX_N], eid, n, m;
int indegree[MAX_N];	// è¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ 

void init(){
	memset(h, -1, sizeof h);
	eid = 0;
	memset(indegree, 0, sizeof indegree);
}

void insert(int u, int v){
	E[eid].v = v;
	E[eid].next = h[u];
	h[u] = eid++;
}

bool topology(){	// æ‹“æ‰‘æ’åºéœ€è¦ä½¿ç”¨é˜Ÿåˆ— 
	queue<int> q;
	for(int i = 1; i <= n; i++){
		if(!indegree[i]) q.push(i);
	}
	while(!q.empty()){
		int now = h.front(); h.pop();
		for(int i = h[now]; ~i; i = e[i].next){
			int v = E[i].v;
			indegree[v]--;
			if(!indegree[v]) q.push(v);
		}
	}
	for(int i = 1; i <= n; i++) {
		if(indegree[i]) return false; // ä¸å­˜åœ¨æ‹“æ‰‘æ’åº 
	}
	return true;
}

int main(){
	scanf("%d%d", &n, &m);
	for(int i = 0; i < m; i++){
		int u, v;
		scanf("%d%d", &u, &v);
		indegree[v]++;
		insert(u, v);
	}
	return 0;
}
```

### æ¬§æ‹‰å›è·¯å’Œæ¬§æ‹‰è·¯å¾„

#### åˆ¤æ–­

è‹¥å›¾Gä¸­å­˜åœ¨è¿™æ ·ä¸€æ¡è·¯å¾„ï¼Œä½¿å¾—å®ƒæ°å¥½é€šè¿‡Gä¸­æ¯æ¡è¾¹ä¸€æ¬¡ï¼Œåˆ™ç§°è¯¥è·¯å¾„ä¸ºæ¬§æ‹‰è·¯å¾„ã€‚è‹¥è¯¥è·¯å¾„ä¸ºä¸€ä¸ªç¯è·¯ï¼Œåˆ™ç§°ä¸ºæ¬§æ‹‰å›è·¯ã€‚
1. å…·æœ‰æ¬§æ‹‰å›è·¯çš„å›¾ç§°ä¸ºæ¬§æ‹‰å›¾ã€‚æ¬§æ‹‰å›¾æ˜¯æ‰€æœ‰é¡¶ç‚¹å…¥åº¦å’Œå‡ºåº¦ç›¸ç­‰çš„æœ‰å‘å¼±è¿é€šå›¾ï¼›æ²¡æœ‰å¥‡åº¦é¡¶ç‚¹çš„è¿é€šå›¾
2. åªæœ‰æ¬§æ‹‰è·¯å¾„ä½†ä¸å…·æœ‰æ¬§æ‹‰å›è·¯çš„å›¾ç§°ä¸ºåŠæ¬§æ‹‰å›¾ã€‚åŠæ¬§æ‹‰å›¾æ€§è´¨ï¼šæœ‰ä¸”ä»…æœ‰ä¸¤ä¸ªå¥‡åº¦é¡¶ç‚¹çš„æ— å‘è¿é€šå›¾
```C++
// åˆ¤æ–­æ— å‘å›¾ä¸­æ˜¯å¦å­˜åœ¨æ¬§æ‹‰è·¯å¾„å’Œæ¬§æ‹‰å›è·¯
#include <bits/stdc++.h>
using namespace std;
const int MAX_M = 10000;
const int MAX_N = 200;
struct edge{
	int v, next;
	int len;
}E[MAX_M];
int p[MAX_N], eid, n, m;
int degree[MAX_N];	// è¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ 

void init(){
	memset(p, -1, sizeof p);
	eid = 0;
	memset(degree, 0, sizeof degree);
}

void insert(int u, int v){
	E[eid].v = v;
	E[eid].next = p[u];
	p[u] = eid++;
}

// åˆ¤æ–­æ— å‘å›¾æ˜¯å¦æ˜¯è¿é€šå›¾
int cnt;
bool vis[MAX_N];
void dfs(int u){
	vis[u] = true;
	cnt++;
	for(int i = p[u]; ~i; i = E[i].next){
		int v = E[i].v;
		if(!vis[v]) dfs(v);
	}
}

// åˆ¤æ–­æ¬§æ‹‰è·¯
void euler(){
	dfs(1);
	if(cnt != n) {
		printf("ä¸æ˜¯è¿é€šå›¾");
		return; 
	}
	int cntodd = 0;
	for(int i = 1; i <= n; i++){
		for(degree[i] % 2) cntodd++;
	}
	if(cntodd == 0) printf("Euler Circuit!\n");
	else if(cntodd == 2) printf("Euler path!\n");
	else printf("ä¸æ˜¯æ¬§æ‹‰åŠå›¾\n"); 
}
 
int main(){
	init();
	scanf("%d%d", &n, &m);
	for(int i = 0; i < m; i++){
		int u, v;
		scanf("%d%d", &u, &v);
		degree[v]++;
		degree[u]++;
		insert(u, v);
		insert(v, u);
	}
	return 0;
}
```

```C++
// åˆ¤æ–­æœ‰å‘å›¾æ˜¯å¦æœ‰æ¬§æ‹‰è·¯å’Œæ¬§æ‹‰å›è·¯
#include <bits/stdc++.h>
using namespace std;
const int MAX_M = 10000;
const int MAX_N = 200;
struct edge{
	int v, next;
	int len;
}E[MAX_M];
int p[MAX_N], eid, n, m;
int degree[MAX_N];	// è¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ 

void init(){
	memset(p, -1, sizeof p);
	eid = 0;
	memset(degree, 0, sizeof degree);
}

void insert(int u, int v){
	E[eid].v = v;
	E[eid].next = p[u];
	p[u] = eid++;
}

// åˆ¤æ–­æ¬§æ‹‰è·¯
int euler(){
	int first = 0, last = 0;
	for(int i = 1; i <= n; i++){
		if(degree[i] < -1 || degree[i] > 1) {
			printf("æ²¡æœ‰æ¬§æ‹‰è·¯å¾„");
			return 0;
		}
		else if(degree[i] == -1){
			if(first != 0){
				printf("æ²¡æœ‰æ¬§æ‹‰è·¯å¾„");
				return 0;
			}else{
				first = i;
			}
		}else if(degree[i] == 1){
			if(last != 0){
				printf("æ²¡æœ‰æ¬§æ‹‰è·¯å¾„");
				return 0;
			}else{
				last = i;
			}
		}
	}
	if(first == 0 && last == 0){ // æ‰€æœ‰é¡¶ç‚¹çš„å‡ºåº¦å’Œå…¥åº¦ç›¸ç­‰ 
		printf("It has an euler circuit\n");
		return 1;
	}else if(first != 0 && last != 0){ // è‡³å¤šæœ‰ä¸¤ä¸ªé¡¶ç‚¹çš„å…¥åº¦å’Œå‡ºåº¦ç»å¯¹å€¼å·®1ï¼ˆè‹¥æœ‰ä¸¤ä¸ªè¿™æ ·çš„é¡¶ç‚¹ï¼Œåˆ™å¿…é¡»å…¶ä¸­ä¸€ä¸ªå‡ºåº¦å¤§äºå…¥åº¦ï¼Œå¦ä¸€ä¸ªå…¥åº¦å¤§äºå‡ºåº¦ï¼‰,å…¶ä»–é¡¶ç‚¹çš„å…¥åº¦ä¸å‡ºåº¦ç›¸ç­‰
		printf("It has an euler path\n");
		return 1;
	}else{
		printf("It has no euler path\n");
		return 0;
	}
}
 
int main(){
	init();
	scanf("%d%d", &n, &m);
	for(int i = 0; i < m; i++){
		int u, v;
		scanf("%d%d", &u, &v);
		degree[v]++;
		degree[u]--;
		insert(u, v);
	}
	return 0;
}
```

#### æ±‚è§£
æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„é¡¶ç‚¹å‡ºå‘è¿›è¡Œdfsæ—¶ã€‚å½“æœåˆ°ä¸€ä¸ªé¡¶ç‚¹uæ—¶ï¼š
1. å¦‚æœæ­¤æ—¶æ²¡æœ‰é¡¶ç‚¹ä¸è¯¥é¡¶ç‚¹ç›¸è¿ï¼Œå°±å°†uåŠ å…¥è·¯å¾„ä¸­å¹¶å›æº¯
2. å¦‚æœæœ‰é¡¶ç‚¹vä¸é¡¶ç‚¹uç›¸è¿ï¼Œé‚£ä¹ˆå°±åˆ é™¤æ— å‘è¾¹<u, v>ï¼Œå¹¶ç»§ç»­æœç´¢é¡¶ç‚¹vã€‚å°†æ‰€æœ‰å’Œuç›¸é‚»çš„é¡¶ç‚¹éå†å®Œåå°†uåŠ å…¥åˆ°è·¯å¾„ä¸­ã€‚

## çŠ¶æ€å‹ç¼©

## äºŒåˆ†æ³•

## åŸºç¡€æ•°è®º

### æœ€å¤§å…¬çº¦æ•°å’Œæœ€å°å…¬å€æ•°

$ lcm(a, b) = \frac{ab}{gcd(a, b)} $

æ¬§å‡ é‡Œå¾—ç®—æ³•:$gcd(a, b) = gcd(b, a mod b)$
```C++
int gcd(int a, int b){
	return gcd(b, a % b);
}

int lcm(int a, int b){
	return a / gcd(a, b) * b;
}
```
```C++
__gcd(a, b) //å¤´æ–‡ä»¶<algorithm>ä¸­çš„åº“å‡½æ•°
```

### Eratosthenesç­›é€‰
```C++
for(int i = 2; i <= n; i++) is_prime[i] = true;
for(int i = 2; i * i <= n; i++){
	if(is_prime[i]){
		for(int j = i * i; j <= n; j += i){
			is_prime[j] = false;
		}
	}
}
```

### æ¬§æ‹‰å‡½æ•°

ç§¯æ€§å‡½æ•°æ»¡è¶³å¦‚ä¸‹æ€§è´¨ï¼š$f(mn)=f(m)\times f(n), gcd(m, n)=1$
æ¬§æ‹‰å‡½æ•°$\verphi(n)$ï¼šå°äºç­‰äºnçš„æ‰€æœ‰æ•°ä¸­ä¸näº’è´¨çš„æ•°çš„ä¸ªæ•°ï¼Œæ¬§æ‹‰å‡½æ•°æ˜¯ç§¯æ€§å‡½æ•°ã€‚
```C++
int res = n;
for(int i = 2; i * i <= n; i++){
	if(n % i == 0){
		res = res / i * (i - 1);
		while(n % i == 0) n /= i;
	}
}
if(n > 1) res = res / n * (n - 1);
printf("%d", res);
```

### çŸ©é˜µä¹˜æ³•
```C++
#include <bits/stdc++.h>
using namespace std;
struct matrix{
	int a[100][100];
	int n, m
};

matrix matrix_mul(matrix A, matrix B){
	matrix ret;
	ret.n = A.n;
	ret.m = B.m;
	for(int i = 0; i < ret.n; i++){
		for(int j = 0; j < ret.m; j++){
			ret.a[i][j] = 0;
		}
	}
	for(int i = 0; i < ret.n; i++){
		for(int j = 0; j < ret.m; j++){
			for(int k = 0; k < A.m; k++){
				ret.a[i][j] += A.a[i][k] * B.a[k][j];
			} 
		}
	}
	return ret;
}
int main(){
	matrix A, B;
	cin >> A.n >> B.m;
	for(int i = 0; i < A.n; i++){
		for(int j = 0; j < A.m; j++){
			cin >> A.a[i][j];
		}
	}
	cin >> B.n >> B.m;
	for(int i = 0; i < B.n; i++){
		for(int j = 0; j < B.m; j++){
			cin >> B.a[i][j];
		}
	}
	if(A.m != B.n) printf("NO"); return 0;
	else{
		matrix C = matrix_mul(A, B);
	}
	return 0;
}
```

### çŸ©é˜µå¿«é€Ÿå¹‚
```C++
matrix matrix_mul(matrix A, matrix B, int mod){
	matrix ret;
	ret.n = A.n;
	ret.m = B.m;
	
	for(int i = 0; i < ret.n; i++){
		for(int j = 0; j < ret.m; j++){
			ret.a[i][j] = 0;
			for(int k = 0; k < A.m; k++){
				ret.a[i][j] = (ret.a[i][j] + A.a[i][k] * B.a[k][j] % mod) % mod;
			} 
		}
	}
	return ret;
}

matrix unit(int n){
	matrix res;
	for(int i = 0; i < n; i++){
		for(int j = 0; j < n; j++){
			if(i == j) res.a[i][j] = 1;
			else res.a[i][j] = 0;
		}
	}
}

matrix matrix_pow(matrix A, int n, int mod){
	matrix res = unit(), temp = A;
	for(; n; n /= 2){
		if(n & 1){
			res = matrix_mul(res, temp, mod);
		}
		A = matrix_mul(A, A, mod);
	}
	return res;
}
```


## çº¿æ®µæ ‘ä¸æ ‘çŠ¶æ•°ç»„

#### æœ‰ä¸€ç±»åŒºé—´é—®é¢˜å¯ä»¥æŠ½è±¡æˆä»¥ä¸‹æ¨¡å‹

ç»™å®šåŒ…æ‹¬nä¸ªæ•°çš„æ•°ç»„$a_1,a_2,a_3,...,a_n$ï¼Œæœ‰ä¸¤ç§æ“ä½œï¼š
1. æŸ¥è¯¢åŒºé—´[l, r]æœ€å°çš„æ•°
2. ä¿®æ”¹$a_i$ä¸ºx

### çº¿æ®µæ ‘

å¯¹äºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœå…¶è¡¨ç¤ºçš„åŒºé—´ä¸º[l, r]ã€‚ å¦‚æœl=rï¼Œé‚£ä¹ˆè¿™ä¸ªæ˜¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹ã€‚å¦åˆ™ä»¤$mid=(l + r) /2$, å·¦å„¿å­å¯¹åº”çš„åŒºé—´ä¸º[l, mid]ï¼Œå³å„¿å­å¯¹åº”çš„åŒºé—´ä¸º[mid + 1, r]ï¼Œè¿™ä¸€æ€æƒ³æœ‰ç‚¹ç±»ä¼¼äºŒåˆ†ã€‚çº¿æ®µæ ‘æ€»å…±æœ‰2 * nèŠ‚ç‚¹ï¼Œ ä½†æ•°ç»„ä¸€å®šæ˜¯æ•°ç»„å¤§å°çš„å››å€ã€‚

æ¯”å¦‚è¦ç»´æŠ¤åŒºé—´æœ€å°å€¼é—®é¢˜ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªé¢å¤–çš„æ•°ç»„minvè®°å½•æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”åŒºé—´çš„æœ€å°å€¼ã€‚å¯¹äºå¶å­èŠ‚ç‚¹ï¼Œæœ€å°å€¼å°±æ˜¯ä¸€ä¸ªæ•°ã€‚è€Œå¯¹äºéå¶å­èŠ‚ç‚¹ï¼ŒåŒºé—´çš„æœ€å°å€¼å°±æ˜¯å·¦å„¿å­çš„æœ€å°å€¼å’Œå³å„¿å­æœ€å°å€¼ä¸­çš„æœ€å°å€¼ã€‚

1. çº¿æ®µæ ‘çš„æ„å»ºï¼šæ„å»ºçº¿æ®µæ ‘çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œçˆ¶èŠ‚ç‚¹çš„ä¿¡æ¯éœ€è¦ç”¨å­èŠ‚ç‚¹å»æ›´æ–°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆé€’å½’åœ°æ„å»ºå¥½å·¦å³å­æ ‘ï¼Œå¦‚ä¸‹:
```C++
const int maxn = 10010; // maxnè¡¨ç¤ºæ•°çš„ä¸ªæ•°
int minv[4 * maxn], a[maxn]; // 4 * maxnè¡¨ç¤ºéœ€è¦èŠ‚ç‚¹ç¼–å·æ•°
// idè¡¨ç¤ºèŠ‚ç‚¹ç¼–å·ï¼Œl,rè¡¨ç¤ºå·¦å³åŒºé—´ï¼Œå»ºæ ‘çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)
void build(int id, int l, int r){
	if(l == r){
		minv[id] = a[l];
	}
	int mid = (l + r) >> 1;
	build(id << 1, l, mid);
	build(id << 1 | 1, mid + 1, r);
	minv[id] = min(minv[id << 1], minv[id << 1 | 1]);
}

2. å•ç‚¹æ›´æ–°ï¼šä¸€èˆ¬æˆ‘ä»¬å¯ä»¥è®¤ä¸ºçº¿æ®µæ ‘çš„æœ€å¤§æ·±åº¦ä¸º$\log n$ï¼Œæ‰€ä»¥è¿™æ¡é“¾çš„æœ€å¤§é•¿åº¦ä¹Ÿæ˜¯$\log n$ï¼Œæ‰€ä»¥ä¸€æ¬¡æ›´æ–°çš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(\log n)$
```C++
// æŠŠxä½ç½®çš„å€¼æ›´æ”¹ä¸ºv
void update(int id, int l, int r, int x, int v){
	if(l == r){
		minv[id] = v;
		return;
	}
	int mid = (l + r) >> 1;
	if(x <= mid){
		update(id << 1, l, mid, x, v);
	}else{
		update(id << 1 | 1, mid, r, x, v);
	}
	minv[id] = min(minv[id << 1], minv[id << 1 | 1]);
}
```

3. å•ç‚¹æŸ¥è¯¢ï¼šå’Œå•ç‚¹æ›´æ–°ä¸€æ ·ï¼Œä¸€ç›´æ²¿ç€é“¾èµ°åˆ°å¶å­èŠ‚ç‚¹å°±å¯ä»¥äº†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º
```C++
int query(int id, int l, int r, int x){
	if(l == r){
		return minv[id];
	}	
	int mid = (l + r) >> 1;
	if(x <= mid){
		return query(id << 1, l, mid, x);
		return query(id << 1 | 1, mid + 1, r, x);
	}
}
```

4. åŒºé—´æŸ¥è¯¢ï¼šå¯¹äºæŸ¥è¯¢çš„åŒºé—´[x,y]æˆ‘ä»¬å¯ä»¥åˆ’åˆ†ä¸ºçº¿æ®µæ ‘ä¸Šçš„èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹çš„åŒºé—´åˆå¹¶èµ·æ¥å°±å¯ä»¥å¾—åˆ°æ‰€éœ€çš„ä¿¡æ¯ã€‚ä¸€æ¬¡åŒºé—´æŸ¥è¯¢çš„å¤æ‚åº¦ä¹Ÿæ˜¯$O(\log n)$
```C++
int query(int id, int l, int r, int x, int y){
	if(x <= l && r <= y){
		return minv[id];
	}	
	int mid = (l + r) >> 1;
	int ans = INT_MAX;
	if(x <= mid){
		ans = min(ans, query(id << 1, l, mid, x, y));
	}
	if(y > mid){
		ans = min(ans, query(id << 1 | 1, mid + 1, r, x, y));
	}
	return ans;
}
```

5. å®Œæ•´ç¨‹åºä»£ç 
```C++
#include <bits/stdc++.h>
using namespace std;
const int maxn = 110;
int minv[4 * maxn], a[maxn];

void pushup(int id){
	minv[id] = min(minv[id << 1], minv[id << 1 | 1]);
}

void build(int id, int l, int r){
	if(l == r){
		minv[id] = a[l];
		return;
	}
	int mid = (l + r) >> 1;
	build(id << 1, l, mid);
	build(id << 1 | 1, mid + 1, r);
	pushup(id);
}

void update(int id, int l, int r, int x, int v){
	if(l == r){
		minv[id] = v;
	}
	int mid = (l + r) >> 1;
	if(x <= mid){
		update(id << 1, l, mid, x, v);
	}else{
		update(id << 1 | 1, mid + 1, r, x, v);
	}
	pushup(id);
}

int query(int id, int l, int r, int x){
	if(l == r){
		return minv[id];
	}	
	int mid = (l + r) >> 1;
	if(x <= mid){
		return query(id << 1, l, mid, x);
		return query(id << 1 | 1, mid + 1, r, x);
	}
}

int query(int id, int l, int r, int x, int y){
	if(x <= l && r <= y){
		return minv[id];
	}	
	int mid = (l + r) >> 1;
	int ans = INT_MAX;
	if(x <= mid){
		ans = min(ans, query(id << 1, l, mid, x, y));
	}
	if(y > mid){
		ans = min(ans, query(id << 1 | 1, mid + 1, r, x, y));
	}
	return ans;
}

int main(){
	int n; scanf("%d", &n);
	for(int i = 1; i <= n; i++){
		scanf("%d", &a[i]);
	}
	build(1, 1, n);
	int q; scanf("%d", &q);
	for(int i = 0; i < q; i++){
		int x, v;
		scanf("%d%d", &x, &v);
		update(1, 1, n, x, v);
	}
	int p; scanf("%d", &p);
	for(int i = 0; i < p; i++){
		int l, r;
		scanf("%d%d", &l, &r);
		printf("%d\n", query(1, 1, n, l, r));
	}
	return 0;
}
```

### æ ‘çŠ¶æ•°ç»„

å¯¹åŸå§‹çš„é—®é¢˜è¿›è¡Œä¿®æ”¹ï¼Œæ”¹æˆæ±‚å’Œï¼š

ç»™å®šåŒ…æ‹¬nä¸ªæ•°çš„æ•°ç»„$a_1,a_2,a_3,...,a_n$ï¼Œæœ‰ä¸¤ç§æ“ä½œï¼š
1. æŸ¥è¯¢åŒºé—´[l, r]æ•°çš„å’Œ
2. æŠŠ$a_i$å¢åŠ x

æ ‘çŠ¶æ•°ç»„çš„ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºçš„åŒºé—´å¯ä»¥æ ¹æ®èŠ‚ç‚¹æ ‡å·è®¡ç®—å‡ºæ¥ï¼Œå¯¹äºèŠ‚ç‚¹iï¼Œå…¶è¡¨ç¤ºçš„åŒºé—´ä¸º[i - lowbit(i) + 1, i],ç„¶åæˆ‘ä»¬å†ç”¨ä¸€ä¸ªæ•°ç»„Cè¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹å¯¹åº”çš„åŒºé—´å†…çš„æ•°çš„å’Œï¼š

$C_i=a_{i-lowbit(i)+1}+a_{i-lowbit(i)+2}+...+a_i$

1. æŸ¥è¯¢ï¼šè¦æŸ¥è¯¢åŒºé—´[l, r]çš„å’Œå€¼ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ±‚å‡º[1, r]çš„å’Œå€¼ï¼Œç„¶åå‡å»[1, l - 1]çš„å’Œå€¼ã€‚
	1.1 ä»¤sum = 0
	1.2 åŠ ä¸ŠåŒºé—´[x - lowbit(x) + 1, x]çš„å’Œå€¼
	1.3 ç„¶åä»¤x = x - lowbit(x)
	1.4 å¦‚æœx = 0åˆ™é€€å‡ºï¼Œå¦åˆ™é‡å¤æ­¥éª¤1.1
	1.5 x = x - lowbit(x) ç­‰ä»·äºå°†xçš„äºŒè¿›åˆ¶çš„æœ€åä¸€ä¸ª1å‡å»ã€‚è€Œxçš„äºŒè¿›åˆ¶é‡Œæœ€å¤šæœ‰$\log x$ä¸ª1
```C++
int C[maxn], n;

int lowerbit(x){
	return x & (-x);
}

int getSum(int x){
	int res = 0;
	for(int i = x; i > 0; i -= lowerbit(x)){
		res += C[i];
	}
	return res;
}
```

2. æ›´æ–°:å¦‚æœè®©$a_x$å¢åŠ vï¼Œé‚£ä¹ˆåªæœ‰å¯¹äºåŒ…å«ä½ç½®xçš„åŒºé—´çš„å’Œå€¼æ‰ä¼šæ”¶åˆ°å½±å“ã€‚è€Œæ±‚å‡ºå“ªäº›åŒºé—´å—å½±å“æœ‰ä¸€ä¸ªå·§å¦™çš„æ“ä½œï¼Œé‚£å°±æ˜¯ä»¤$x=x+lowerbit(x)$ï¼Œç›´åˆ°x > nã€‚
```C++
void update(int x, int v){
	for(int i = x; i <= n; i += lowerbit(x)){
		C[i] += v;
	}
}
```

### å·®åˆ†

çœ‹ä¸‹é¢çš„é—®é¢˜ï¼š
æ¯æ¬¡æ“ä½œæŠŠåŒºé—´[l, r]çš„æ•°åŠ ä¸Šv,æœ€åæ±‚å‡ºæ•°åˆ—æ¯ä¸ªä½ç½®çš„æ•°ã€‚

å¯¹äºå·®åˆ†åºåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°åŒºé—´åŠ å’Œå•ç‚¹æŸ¥è¯¢ï¼Œå¦‚æœåŒºé—´åŠ å’Œå•ç‚¹æŸ¥è¯¢æ··åˆåœ¨ä¸€èµ·éœ€è¦ä½¿ç”¨æ ‘çŠ¶æ•°ç»„ã€‚ä½†æ˜¯æ— æ³•åšåŒºé—´æŸ¥è¯¢ã€‚

### ä¾‹é¢˜

#### æ–‘ç‚¹ğŸ
```C++ 
// çº¿æ®µæ ‘ä¹Ÿå¯ä»¥æ±‚[l, r]åŒºé—´å†…çš„å’Œ
void update(int o, int l, int r, int x, int v){ 
	if(x <= l && r <= x){
		c[o] += v;
		return
	}
	int mid = (l + r) >> 1;
	if(x <= mid) update(o << 1, l, mid, x, v);
	else update(o << 1 | 1, mid + 1, r, x, v);
	c[o] = c[o << 1] + c[o << 1 | 1];
}

int query(int o, int l, int r, int x, int y){
	if(x <= l && r <= y) return c[o];
	int mid = (l + r) >> 1;
	int res = 0;
	if(x <= mid) res += (o << 1, l, mid, x, y);
	if(mid < y) res += (o << 1 | 1, mid + 1, r, x, y);
	return res;
}
```

## Tarjanç®—æ³•

### æ±‚è§£æ— å‘å›¾çš„å‰²ç‚¹ä¸æ¡¥

å‰²ç‚¹ï¼šè‹¥ä»å›¾ä¸­åˆ é™¤èŠ‚ç‚¹ x ä»¥åŠæ‰€æœ‰ä¸ x å…³è”çš„è¾¹ä¹‹åï¼Œå›¾å°†è¢«åˆ†æˆä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ä¸ç›¸è¿çš„å­å›¾ï¼Œé‚£ä¹ˆç§° x ä¸ºå›¾çš„å‰²ç‚¹ã€‚

æ¡¥ï¼šè‹¥ä»å›¾ä¸­åˆ é™¤è¾¹ e ä¹‹åï¼Œå›¾å°†åˆ†è£‚æˆä¸¤ä¸ªä¸ç›¸è¿çš„å­å›¾ï¼Œé‚£ä¹ˆç§° e ä¸ºå›¾çš„æ¡¥æˆ–å‰²è¾¹ã€‚

1. æ—¶é—´æˆ³ï¼šæ—¶é—´æˆ³æ˜¯ç”¨æ¥æ ‡è®°å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹åœ¨è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢æ—¶è¢«è®¿é—®çš„æ—¶é—´é¡ºåºï¼Œå½“ç„¶ï¼Œä½ å¯ä»¥ç†è§£æˆä¸€ä¸ªåºå·ï¼ˆè¿™ä¸ªåºå·ç”±å°åˆ°å¤§ï¼‰ï¼Œç”¨ dfn[x] æ¥è¡¨ç¤ºã€‚
2. æœç´¢æ ‘ï¼šåœ¨æ— å‘å›¾ä¸­ï¼Œæˆ‘ä»¬ä»¥æŸä¸€ä¸ªèŠ‚ç‚¹ x å‡ºå‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹åªè®¿é—®ä¸€æ¬¡ï¼Œæ‰€æœ‰è¢«è®¿é—®è¿‡çš„èŠ‚ç‚¹ä¸è¾¹æ„æˆä¸€æ£µæ ‘ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºâ€œæ— å‘è¿é€šå›¾çš„æœç´¢æ ‘â€ã€‚
3. è¿½æº¯å€¼ï¼šè¿½æº¯å€¼ç”¨æ¥è¡¨ç¤ºä»å½“å‰èŠ‚ç‚¹ x ä½œä¸ºæœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œèƒ½å¤Ÿè®¿é—®åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹ä¸­ï¼Œæ—¶é—´æˆ³æœ€å°çš„å€¼ â€”â€” low[x]ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦é™å®šä¸‹ä»€ä¹ˆæ˜¯â€œèƒ½å¤Ÿè®¿é—®åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹â€ï¼Ÿï¼Œå…¶éœ€è¦æ»¡è¶³ä¸‹é¢çš„æ¡ä»¶ä¹‹ä¸€å³å¯ï¼š
	3.1 ä»¥ x ä¸ºæ ¹çš„æœç´¢æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹
	3.2 é€šè¿‡ä¸€æ¡éæœç´¢æ ‘ä¸Šçš„è¾¹ï¼Œèƒ½å¤Ÿåˆ°è¾¾æœç´¢æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹
4. åœ¨ä¸€å¼ æ— å‘å›¾ä¸­ï¼Œåˆ¤æ–­è¾¹e(å…¶å¯¹åº”çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆ†åˆ«ä¸ºuä¸væ˜¯å¦ä¸ºæ¡¥ï¼Œéœ€è¦æ»¡è¶³å¦‚ä¸‹æ¡ä»¶:dfn[u] < low[v]ï¼Œ å¹¶ä¸”uæ˜¯å‰²ç‚¹ã€‚
```C++
#include <bits/stdc++.h>
using namespace std;
const int MAXN = 2000, MAXM = 4000;
struct Edge{
	int to, nxt;
}e[MAXM];
int head[MAXN], cnt, id;
int dfn[MAXN], low[MAXN], cut[MAXN];

void add(int x, int y){
	e[++cnt].to = y;
	e[cnt].nxt = head[x];
	head[x] = cnt;
}

void tarjan(int u, int fa){ // faä»£è¡¨çˆ¶äº²èŠ‚ç‚¹ 
	dfn[u] = low[u] = ++id;	// idä»£è¡¨æ—¶é—´æˆ³
	int child = 0;	// childä»£è¡¨å­æ ‘æ•°ç›® 
	for(int i = head[u]; i; i = e[i].nxt){
		int to = e[i].to;
		if(!dfn[to]){ // é¡¶ç‚¹toæ²¡æœ‰è¢«è®¿é—®è¿‡ 
			tarjan(to, fa);
			low[u] = min(low[u], low[to]); // å›æº¯æ—¶æ›´æ–°lowæ•°ç»„çš„å€¼
			if(low[to] >= dfn[u] && u != fa){ 
				cut[u] = 1; // æ ‡è®°ä¸ºå‰²ç‚¹ 
			}
			if(u == fa){
				child++; // å­—æ•°æ•°ç›®++ 
			}
		}
		low[u] = min(low[u], dfn[to]); 
	}
	if(child >= 2 && u == fa){
		cut[u] = 1; // æ ¹èŠ‚ç‚¹ä¹Ÿæ˜¯å‰²ç‚¹ 
	}
}

int main(){
	scanf("%d%d", &n, &m);
	for(int i = 1; i <= m; i++){
		int x, y;
		scanf("%d%d", &x, &y);
		add(x, y), add(y, x);
	}
	for(int i = 1; i <= n; i++){
		if(!dfn[i]) tarjan(i, i);
	}
	for(int i = 1; i <= n; i++){
		if(cut[i]) ans++; // æ›´æ–°å‰²ç‚¹æ•°ç›® 
	} 
	return 0;
}
```

### æ±‚è§£BCC

åœ¨ä¸€ä¸ªæ— å‘å›¾ä¸­ï¼Œè‹¥ä»»æ„ä¸¤ç‚¹é—´è‡³å°‘å­˜åœ¨ä¸¤æ¡â€œç‚¹ä¸é‡å¤â€çš„è·¯å¾„ï¼Œåˆ™è¯´è¿™ä¸ªå›¾æ˜¯ç‚¹åŒè¿é€šçš„ï¼ˆç®€ç§°åŒè¿é€š,biconnectedï¼‰

åœ¨ä¸€ä¸ªæ— å‘å›¾ä¸­ï¼Œç‚¹åŒè¿é€šçš„æå¤§å­å›¾ç§°ä¸ºç‚¹åŒè¿é€šåˆ†é‡ï¼ˆç®€ç§°åŒè¿é€šåˆ†é‡,Biconnected Component,BCCï¼‰

ç®—æ³•ï¼šåœ¨Tarjanè¿‡ç¨‹ä¸­ç»´æŠ¤ä¸€ä¸ªæ ˆï¼Œæ¯æ¬¡Tarjanåˆ°ä¸€ä¸ªç»“ç‚¹å°±å°†è¯¥ç»“ç‚¹å…¥æ ˆï¼Œå›æº¯æ—¶è‹¥ç›®æ ‡ç»“ç‚¹lowå€¼ä¸å°äºå½“å‰ç»“ç‚¹dfnå€¼å°±å‡ºæ ˆç›´åˆ°ç›®æ ‡ç»“ç‚¹ï¼ˆç›®æ ‡ç»“ç‚¹ä¹Ÿå‡ºæ ˆï¼‰ï¼Œå°†å‡ºæ ˆç»“ç‚¹å’Œå½“å‰ç»“ç‚¹å­˜å…¥BCC

å¯¹äºæ¯ä¸ªBCCï¼Œå®ƒåœ¨DFSæ ‘ä¸­æœ€å…ˆè¢«å‘ç°çš„ç‚¹ä¸€å®šæ˜¯å‰²ç‚¹æˆ–DFSæ ‘çš„æ ‘æ ¹
```C++
#include <bits/stdc++.h>
using namespace std;
struct edge{
	int to, pre;
}edges[1000001];
int head[1000001], dfn[1000001], dfs_clock, tot;
int num; 	// BCCæ•°é‡
int stack[1000001], top;	// æ ˆ
vector<int> bcc[1000001];

int add(int x, int y){
	edges[++tot].to = y;
	edges[tot].pre = head[x];
	head[x] = tot;
}

int tarjan(int u, int fa){
	int lowu = dfn[u] = ++dfs_clock;
	for(int i = head[u]; i; i = edges[i].pre){
		if(!dfn[edges[i].to]){
			stack[++top] = edges[i].to;
			int lowv = targin(edges[i].to, u);
			if(lowv > dfn[u]) // æ˜¯å‰²ç‚¹æˆ–è€…æ ¹
			{
				num++;
				while(stack[top] != edges[i].to){
					bcc[num].push_back(stack[top--]);
				}
				bcc[num].push_back(stack[top--]);
				bcc[num].push_back(u);
			} 
		}else if(edges[i].to != fa){
			lowu = min(lowu, dfn[edges[i].to]);
		}
	}
	return lowu;
}

int main(){
	int n, m;
	scanf("%d%d", &n, &m);
	for(int i = 1; i <= m; i++){
		int x, y;
		scanf("%d%d", &x, &y);
		add(x, y); add(y, x);
	}
	for(int i = 1; i <= n; i++){
		if(!dfn[i]){
			stack[top = 1] = i;
			tarjan(i, i);
		}
	}
	for(int i = 1; i <= num; i++){
		printf("BCC#%d: ", i);
		for(int j = 0; j < bcc[i].size(); j++){
			printf("%d ", bcc[i][j]);
		}
		printf("\n");
	}
	return 0;
} 
```

### æ±‚è§£å¼ºè¿é€šåˆ†é‡SCC

ç®—æ³•ï¼šä»ä¸€ä¸ªç‚¹å‡ºå‘, å¼€å§‹éå†å¹¶è·Ÿæ–°dfnå’Œlow, å¦‚æœä¸€ä¸ªç‚¹uæ— è·¯å¯èµ°äº†, é‚£ä¹ˆè‹¥dfn[u] == low[u], å°±å¼¹å‡ºæ ˆé¡¶åˆ°uçš„å…ƒç´ , è¿™äº›å…ƒç´ æ˜¯å±äºä¸€ä¸ªå¼ºè¿é€šåˆ†é‡å†…çš„ã€‚

```C++

```